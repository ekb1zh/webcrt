{"version":3,"sources":["components/Card.tsx","App.tsx","index.tsx"],"names":["Card","props","useState","isLike","setIsLike","entity","attributes","photo","title","rooms","address","city","street","house","room","area","unit","relationships","first_name","last_name","className","src","alt","onClick","prev","xmlns","height","viewBox","width","d","fill","SERVER_URL","App","entities","setEntities","isLoading","setIsLoading","fetchMoreEntities","url","fetch","then","res","ok","json","Error","status","response","catch","err","console","error","finally","useEffect","memoizedCards","useMemo","map","key","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oMA0DeA,G,YAtD8B,SAACC,GAAW,IAAD,EAE1BC,oBAAS,GAFiB,mBAE/CC,EAF+C,KAEvCC,EAFuC,OAwBlDH,EAAMI,OAxB4C,IAKpDC,WACEC,EANkD,EAMlDA,MACAC,EAPkD,EAOlDA,MACAC,EARkD,EAQlDA,MARkD,IASlDC,QACEC,EAVgD,EAUhDA,KACAC,EAXgD,EAWhDA,OACAC,EAZgD,EAYhDA,MACAC,EAbgD,EAahDA,KAEFC,EAfkD,EAelDA,KACAC,EAhBkD,EAgBlDA,KAhBkD,IAkBpDC,cACEX,WACEY,EApBgD,EAoBhDA,WACAC,EArBgD,EAqBhDA,UASN,OACE,6BAASC,UAAU,QACjB,yBAAKA,UAAU,UACb,yBAAKA,UAAU,QAAQC,IAAKd,EAAOe,IAAI,UACvC,4BAAQF,UAAU,OAAOG,QAR/B,WACEnB,GAAU,SAAAoB,GAAI,OAAKA,OAQZrB,EACG,yBAAKsB,MAAM,6BAA6BC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,MAAK,0BAAMC,EAAE,kBAAkBC,KAAK,SAAQ,0BAAMD,EAAE,6MAClI,yBAAKJ,MAAM,6BAA6BC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,MAAK,0BAAMC,EAAE,iCAAiCC,KAAK,SAAQ,0BAAMD,EAAE,6OAIzJ,yBAAKT,UAAU,QACb,wBAAIA,UAAU,SAASZ,GACvB,uBAAGY,UAAU,SAAb,yEAAqCX,GACrC,uBAAGW,UAAU,WAAb,mCAA+BT,EAA/B,KAAuCC,EAAvC,KAAiDC,EAAjD,mBAA8DC,GAC9D,uBAAGM,UAAU,QAAb,+CAA8BL,EAA9B,IAAqCC,GACrC,wBAAII,UAAU,cACd,wBAAIA,UAAU,mBAAd,8HACA,uBAAGA,UAAU,iBAAiBD,EAA9B,IAA0CD,OC/C5Ca,EAAa,kGAmDJC,EAjDO,WAAO,IAAD,EAEM9B,mBAAS,IAFf,mBAEnB+B,EAFmB,KAETC,EAFS,OAGQhC,oBAAS,GAHjB,mBAGnBiC,EAHmB,KAGRC,EAHQ,KAK1B,SAASC,EAA6CC,GACpDF,GAAa,GACbG,MAAMD,GACHE,MAAQ,SAAAC,GACP,GAAIA,EAAIC,GAAI,OAAOD,EAAIE,OAClB,MAAM,IAAIC,MAAJ,mCAAsCH,EAAII,YAEtDL,MAAK,SAAAC,GAAG,OAAIP,GAAY,SAAAV,GAAI,4BAAQA,GAAR,YAAiBiB,EAAIK,iBACjDC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,MAC3BG,SAAQ,kBAAMf,GAAa,MAGhCgB,qBAAU,kBAAMf,EAAkBN,KAAa,IAE/C,IAAMsB,EAAgBC,mBACpB,kBAAMrB,EAASsB,KAAI,SAAAlD,GAAM,OAAI,kBAAC,EAAD,CAAMmD,IAAKnD,EAAOoD,GAAIpD,OAAQA,SAC3D,CAAC4B,IAGH,OACE,oCACE,0CAIA,8BACE,yBAAKb,UAAU,QACZiC,GAEH,4BACEjC,UAAU,OACVG,QAAS,kBAAMc,EAAkBN,KAEhCI,EAAY,4EAAkB,wEAInC,4CC7CNuB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.012c56d1.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport * as T from '../../../middle/types';\nimport './Card.css';\n\nconst Card: React.FC<{ entity: T.Entity }> = (props) => {\n\n  const [isLike, setIsLike] = useState(false);\n\n  const {\n    attributes: {\n      photo,\n      title,\n      rooms,\n      address: {\n        city,\n        street,\n        house,\n        room,\n      },\n      area,\n      unit,\n    },\n    relationships: {\n      attributes: {\n        first_name,\n        last_name,\n      }\n    }\n  } = props.entity;\n\n  function handleClickLike() {\n    setIsLike(prev => !prev);\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"images\">\n        <img className=\"photo\" src={photo} alt=\"photo\" />\n        <button className=\"like\" onClick={handleClickLike}>\n          {isLike\n            ? <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z\"/></svg>\n            : <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z\"/></svg>\n          }\n        </button>\n      </div>\n      <div className=\"info\">\n        <h3 className=\"title\">{title}</h3>\n        <p className=\"rooms\">Кол-во комнат: {rooms}</p>\n        <p className=\"address\">Адрес: {city}, {street}, {house}, кв. {room}</p>\n        <p className=\"area\">Площадь: {area} {unit}</p>\n        <hr className=\"separator\" />\n        <h4 className=\"contacts-header\">Контактная информация:</h4>\n        <p className=\"contacts-info\">{last_name} {first_name}</p>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React, { useState, useEffect, useMemo } from 'react';\nimport './App.css';\nimport * as T from '../../middle/types';\nimport Card from './components/Card';\n\nconst SERVER_URL = 'https://script.google.com/macros/s/AKfycbw-DQLQ0Y-N0h2CW78njlIazYyKMTiyEVlZqARH315uTqqlKmc/exec';\n\nconst App: React.FC = () => {\n\n  const [entities, setEntities] = useState([] as T.Data['response']);\n  const [isLoading, setIsLoading] = useState(false);\n\n  function fetchMoreEntities<T extends T.Data = T.Data>(url: string) {\n    setIsLoading(true);\n    fetch(url)\n      .then<T>(res => {\n        if (res.ok) return res.json();\n        else throw new Error(`Fetch error with status: ${res.status}`)\n      })\n      .then(res => setEntities(prev => [...prev, ...res.response]))\n      .catch(err => console.error(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  useEffect(() => fetchMoreEntities(SERVER_URL), []);\n\n  const memoizedCards = useMemo(\n    () => entities.map(entity => <Card key={entity.id} entity={entity} />),\n    [entities]\n  );\n\n  return (\n    <>\n      <header>\n        HEADER\n      </header>\n\n      <main>\n        <div className=\"grid\">\n          {memoizedCards}\n        </div>\n        <button\n          className=\"more\"\n          onClick={() => fetchMoreEntities(SERVER_URL)}\n        >\n          {isLoading ? 'идёт загрузка' : 'показать ещё'}\n        </button>\n      </main>\n\n      <footer>\n        FOOTER\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}